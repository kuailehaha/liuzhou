# TODOS

TODOæµ ãƒ¤éª‡é¢ç†¸æ¤‚é—‚ç¿ è´Ÿé‘å—â‚¬?

### 2025.10.20

- [x] é–²å¶†ç€¯é–«æ˜ç·«é”›æ°¬çš¢è¤°ãˆ¡åšsquareéœå®­ineéšå·†aptureç»›å¡§ctioné·å——åæ¶“å“„å¸«ç€›æ„¬å¯²é¨åˆ´ove+capture action

### 2025.10.22

- [x] batchéºã„§æ‚Šé™è·ºç“™é‘ºå‚œå?
- [x] ç’‹å†©æš£log verbose
- [x] ç»›æ «æšæ¾¶ç£‹çšŸéè¾¾ç´ç€µç‘°ç°²éšå‹­ç“¥é£ãƒ¥ã”ç’‡î…ç®Ÿ
- [x] ç’‡æ›¡çª‡é”›å±¾æ¤‚é—‚æ‘åé‹?
- [x] é’å—˜ç€½å¯®å“„å¯²ç€›ï¸¿ç¯„é˜ç†ºæ‚Š

### 2025.10.23

- [x] å¨£è¯²å§batch_Ké”›æ°³åšœé—æ°¬ç´™éœå®”valé—ƒèˆµî†Œéµå½’å™ºéºã„§æ‚Šæ¶“å¶…æ‚“é¨å‹®å¦­é?

### 2025.10.25

- [x] æ£°å‹­æš€é“æ°­å´?

### 2025.10.26
- [x] ç¼ƒî†½å´²ç»›æ «æšæ¾?12 é?moveé”ã„¤ç¶”æ¶“å©„æ®‘é”ç†»å…?
- [x] æ·‡î†¼î˜?no_legal_moves é¨å‹«ç´“ç”¯?
- [x] æ¾¶æ°³ç¹˜ç»‹å¬«å¸¹éå—­ç´å¨£è¯²å§numworkersé”ç†»å…?
- [x] ç€¹ç‚µå¹?RandomAgent é¨å‹«î‡®çâ‚¬é”›å±½è‹Ÿé‘¾å³°å½‡é‘³æ»…å·¼éç‰ˆåµ?
- [x] éšå è‹Ÿé™å‚›æšŸé”›æ­´elf_play_gameséŠ†ä¹»elf_play_games_per_worker
- [x] éå¯¸æ‚Štest file
- [ ] å¯®çŠ»å™ºé–æ §ç–„éœæ‹Œåšœé—æ°¬ç´™æ©å›©â–?
- [ ] éªæƒ°î”‘é–æœŒDPç’î… ç²Œé´æ §ç–„éœæ‰³â‚¬æ»†åšœç€µç‘°ç´™é—†å—™å…¢+ç’î… ç²Œéˆå¶…å§Ÿé£ã„¢â‚¬æ¿‡Äå¯?
- [ ] çº­î†¿î…»æµ ï½‡çˆœç€¹ç‚µå¹‡é–«æ˜ç·«
- [ ] å¦¯â€³ç€·ç¼æ’´ç€¯éœå²ƒç§´é™å‚çšŸæµ¼?
- [ ] ç€µç‘°æº€æ¶“å©ƒî—ç€›æ„¬ç–„éœçš‰ewardéªèˆµî—…éŒãƒ¦æ™¥é‹æ»ç´™é‚æ¿ç´‘é’å—˜æ•®é”›ç†¸åŠ…ç‘™å¤‰ç¬‰é¢îŸ’ç´é™îˆ™äº’å¯®â‚¬æ¶“îˆâ‚¬å¤ã€éŠ†å‚˜â‚¬æ„­åŠ…ç‘™å¤Šç–„éœæ¿ç´¶é–²å¿“å¯²é‘·î„å´¥å¯®å œç®£é“å¶…ç·¢éˆå¤Šç¹€ç‘•ä½¹åŠé”çŠ²æ™©é”›ä½µâ‚¬æˆ¯ç´?

### 2025.10.27

- [x] ç€¹ç‚µå¹‡é“å¶‡î¬é”›å±¼æ±‰éˆå“„î‡®å¯®å å§›é‘³?
- [x] æ·‡î†¿Ë‰bugé”›æ°¬æ‚“éƒç§™quareéœå®­ineé™î‡å…˜é»æ„­å¸€æ¶“â‚¬æ¶?

### 2025.10.28

- [x] eval logå¨£è¯²å§?é‘³æ»†ç¤‹éœ?æ·‡â„ƒä¼?
- [x] é“å¶‡î¬é”›æ°­åŠé”çŠ³æ™«é‚é€›ç¬‚æ¶“â‚¬å§ãƒ¤ä¿Šé­?

### 2025.10.29

- [x] å¨£è¯²å§é“å¶‡î¬ç€µç‘°ç´™valueéŠå…¼æ¨‰ç»€çŒ´ç´™é‘³æ»…å·¼æ·‡â„ƒä¼…é”?

### 2025.10.30

- [x] é’æ¶˜ç¼?v1 å¯®çŠ»å™ºé–æ ­å™¸éæ¬“î€‡é‹å‰æ´°è¤?
- [x] ç€¹ç‚µå¹?v1/game å¯®çŠ»å™ºé–æ «å§¸é¬ä½½æµ†é¹î­ç¬Œç‘™å‹«å¯é–«æ˜ç·«
- [x] ç€¹å±¾å?v1/game/move_encoder.py é”ã„¤ç¶”ç¼‚æ «çˆœæ¶“åº¤Ğ’é?
- [x] éæ¬åš?VectorizedMCTS æ¶“ç»˜ç¥¦ç»‹å¬ªè‹Ÿé‡æŒå´²é‘·î„å´¥å¯®å £çšŸæ´?
- [ ] éµæ’»â‚?v1/self_play -> v1/train å¯®çŠ»å™ºé–æ ¬î†„ç¼å†®æ£´éœ?
- [x] æ¶?v1 é’å—˜æ•®é‚æ¿î–ƒå¨´å¬­ç˜¯æ¶“åº¡î‡®é“Ñ‡ç™ç’‡ä½½å‰¼éˆ?

### 2025.10.31

- [ ] ç€µè§„åª¿æµ¼çŠµç²ºç» ï¼„åšéœå±¾æŸŠç» ï¼„åšé”›åœ¡CTSé–®ã„¥åé”›?

### 2025.11.1

- [x] å§Šå´‡æ‚?legacy å¨´ä½ºâ–¼éæŠ½æ•­é‘èŠ¥æšŸéªèˆµæš£é?inputs/outputs ç€µåœ­åç›?
- [x] ç’æî…¸éªè·ºç–„é?states_to_model_input é?_board_planes/_mark_planes/_phase_planes
- [x] B=1 parity test matches legacy state encoding
- [x] æ¾¶å¶†ç‰?ActionEncodingSpec/encode/decode ç»±ãˆ ç´©ç»¾ï¹€ç•¾éªæƒ°Ë‰æ¦»æ„­å£’é–²å¿”å¸ºé®?helper
- [x] é?project_policy_logits æ¶“î…ç•¬é´?logits é·å——åéŠ†ä½¹å¸ºé®ä½·ç¬Œéæ»ƒç°³è¤°æç«´é–æ ­â‚¬æ˜ç·«
- [x] æ¿¡å‚›æ¹é—‡â‚¬ç‘•ä½¹æŸŠæ¾?batched gather/reshape ç»›å¤Šç´¶é–²å¿“ä¼éå³°åš±é?
- [x] ç¼‚æ §å•?cross-check é‘´æ°­æ¹°ç€µè§„ç˜®æ¶“ã‚…îšœç» ï¼„åšé¨å‹®ç·­éãƒ¥ç´¶é–²å¿ç¬Œé”ã„¤ç¶”é’å——ç«·
- [x] é‡å­˜æŸŠé‘·î„å´¥å¯?MCTS/ç’î… ç²Œé‘´æ°­æ¹°ç’‹å†ªæ•¤ç’ºîˆšç·é’å›¨å´²é‘·?v1 å¯®çŠ»å™ºé–æ §ç–„é?
- [ ] README/TODO ç’æ¿ç¶é’å›¨å´²é‚ç‘°ç´¡æ¶“åº¨ç™ç’‡ä½ºå§¸é¬?
- [ ] Future: unify policy heads (head1=place/move-to, head2=move-from, head3=mark+all removals) and drop phase one-hot channels when legacy parity is secured.

### 2025.11.2

- [ ] debug: python -m tools.cross_check_mcts --states 10 --max-random-moves 40 --num-simulations 64 --device cuda > check_log.txt  

### 2025.11.3

- [ ] ç€µç­«ncodeéŠ†ä¹¸riéŠ†ä¹¤pplyé—ƒèˆµî†Œé‹æ°«ç´­é–æ µç´°[VMCTS-profile] waves=64 sel=0.67% moves=0.78% encode=11.96% fwd=3.09% pri=35.44% apply=48.05%
- [ ] æµ¼æ¨ºå¯?project_policy_logits é¨å‹«ç–„éœå¸®ç´æµ å‘­î‡®éšå Ÿç¡¶é”ã„¤ç¶”é‹?softmaxé”›å±½è‹Ÿæ£°å‹«å›éå¯¸æ‚?movement é¨å‹­å‚¨å¯®æ›Ÿæ§§ç?
- [ ] é¦ã„¨å¦­éåœ­ç´¦ç€?legal action indices é?child stateé”›å²„ä¼©éå¶‰å™¸æ¾¶å¶ˆçšŸé¢?action_to_index/apply_move
- [ ] æ£°å‹­å„¹éªè·ºî˜²é?TensorStateBatch / states_to_model_input é¨å‹«ä¼æµ£æ»…ç´¦éæŸ¥æª·æµ£?encode é´æ„­æ¹?
- [ ] é–«æ°³ç¹?pybind11éŠ†ä¹§ffiéŠ†ä¹§ython ç»›å¤‹å¦¸å¦«å¬­î‰éç¨¿ç¸¾é¼î„€åŸ?nativeéŠ†å‚™ç´­éè§„æ§¸æ·‡æ¿ˆæš€é›æˆ’æŠ¤å¯®å¿›î—“éç¡·ç´éšå±¾æ¤‚é‘¾å³°ç·±ç¼‚æ ¬ç˜§ç’‡î…¡â–ˆé¨å‹«çˆ¶éæ¿å§é–«ç‡‚ç´æ©æ¨¿å…˜é¦ã„¥å”´é–®ã„¥ä»›é‡å¯¸ç²é¨å‹­ç´¦ç€?éªæƒ°î”‘éŠ†?

### 2025.11.09

- [x] C++ çå‚å™¸é?batch_apply_movesé”›å±½è‹Ÿç›ãƒ¥å–é‘å—™â€˜é¬Ñ„ç¥´ç’‡æ›ªç´™tests/v1/test_fast_apply_moves.pyé”›å¤‰ç¬Œé¬Ñ†å…˜é‘´æ°­æ¹°é”›å±ests/v1/test_fast_apply_moves_performance.pyéŠ†ä¹¼ools/benchmark_apply_moves.pyé”?

### 2025.11.10

- [ ] GPU é—å Ÿæ¹°é–²å¶…å•“ apply é–®ã„¥åé”›å±¾å¢¦é–?fast apply kernel é?CUDA é€îˆ›å¯”

### 2025.11.13

- [ ] v0 CUDA åŸºå‡†ï¼šå½“å‰åŸºå‡†è„šæœ¬æ”¯æŒ?`tensor_device=cpu:forward_device=cuda` ç­‰ç»„åˆï¼Œä½?MCTSCore è¿˜æ²¡åšå¥½æ··åˆè®¾å¤‡ä¸‹çš„åˆæ³•æ©ç /æ”¿ç­–è®¡ç®—ï¼ˆ`project_policy_logits_fast` éœ€è¦?mask/logits åœ¨åŒä¸€ deviceï¼‰ã€‚è¦è®?â€œforward ç”?CUDAã€æ ‘ä»åœ¨ CPUâ€?çš„å¯¹ç…§ç»„è·‘é€šï¼Œå°±å¾—åœ?`ExpandBatch` é‡Œè¡¥ device å¯¹é½/æ‹·è´é€»è¾‘ï¼Œå†æ›´æ–°å·¥å…·æµ‹é‡ GPU ä¼˜åŒ–å¸¦æ¥çš„çœŸå®æ”¶ç›Šã€?
- [ ] v0 CUDA benchmarking: the current benchmark supports specs like 	ensor_device=cpu:forward_device=cuda, but MCTSCore still assumes legal masks and logits live on the same device (project_policy_logits_fast requires aligned devices). To benchmark 'forward on CUDA while the tree stays on CPU', we need to add device-alignment/copy logic inside ExpandBatch, then rerun the tool to quantify the CUDA kernels' benefit.
